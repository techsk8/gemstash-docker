---
# puma
:bind: tcp://0.0.0.0:8080
:puma_workers: 0

# gemstash
:base_path: "/app/gemstash-data"
:cache_type: memory
:cache_max_size: 6000
:protected_fetch: false

# db, if env DB_HOST is not set sqlite will be used instead
<% if ENV['DB_HOST'] %>
:db_adapter: postgres
:db_url: "postgres://<%= ENV['DB_USER'] %>:<%= ENV['DB_PASSWORD'] %>@<%= ENV['DB_HOST'] %>/<%= ENV['DB_NAME'] %>"
:db_connection_options:
  :connect_timeout: 10
  :read_timeout: 5
  :reconnect: true
  :timeout: 30
<% end %>

# cache
<% if ENV['MEMCACHED_SERVERS'] %>
:cache_type: memcached
:memcached_servers: <%= ENV['MEMCACHED_SERVERS'] %>
<% end %>
